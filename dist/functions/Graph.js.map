{"version":3,"sources":["../../src/functions/Graph.js"],"names":["module","exports","answerOption","answers","options","data","qid","i","length","push","value","option","j","question","k","loginDate","logs","temp","createdAt","Date","date","dateToString","key","stringToDate","cardDate","cards","cardMonth","createdAtMonth","getFullYear","getMonth","month","cardStudent","teacher","author","student","splited","split","year","day","getDate","dateString"],"mappings":"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","file":"Graph.js","sourcesContent":["\r\nmodule.exports.answerOption = (answers, options) =>{\r\n  //console.log(answers);\r\n  //console.log(options);\r\n  var data = {\r\n    //qid: [{ value: 3, option: A },]\r\n  }\r\n  for(var qid in options){\r\n    if(!data[qid]){ data[qid] = []; }\r\n    for(var i=0;i<options[qid].length;i++){\r\n      data[qid].push({ value: 0, option: options[qid][i] });\r\n    }\r\n    //console.log(data);\r\n    for(var j=0;j<answers.length;j++){\r\n      if(''+ answers[j].question === ''+ qid){\r\n        for(var k=0;k<data[qid].length;k++){\r\n          if(data[qid][k].option === answers[j].value){\r\n            data[qid][k] = { value: data[qid][k].value + 1, option: data[qid][k].option };\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  //console.log(data);\r\n  return data;\r\n}\r\n\r\nmodule.exports.loginDate = (logs) =>{\r\n  var data = [\r\n    //{ value: 3, date: new Date(2019, 7, 1) },\r\n  ]\r\n  var temp = {};\r\n  for(var i=0;i<logs.length;i++){\r\n    const createdAt = new Date(logs[i].createdAt);\r\n    const date = dateToString(createdAt);\r\n\r\n    if(!temp[date]){ temp[date] = 1; }\r\n    else{ temp[date]++; };\r\n  }\r\n  for(var key in temp){\r\n    data.push({ value: temp[key], date: stringToDate(key) });\r\n  }\r\n  return data;\r\n}\r\n\r\nmodule.exports.cardDate = (cards) =>{\r\n  var data = [\r\n    //{ value: 3, date: new Date(2019, 7, 1) },\r\n  ];\r\n  var temp = {};\r\n  for(var i=0;i<cards.length;i++){\r\n    const createdAt = new Date(cards[i].createdAt);\r\n    const date = dateToString(createdAt);\r\n\r\n    if(!temp[date]){ temp[date] = 1; }\r\n    else{ temp[date]++; };\r\n  }\r\n  for(var key in temp){\r\n    data.push({ value: temp[key], date: stringToDate(key) });\r\n  }\r\n  return data;\r\n}\r\n\r\nmodule.exports.cardMonth = (cards) =>{\r\n  var data = [\r\n    //{ value: 3, month: 7 },\r\n  ];\r\n  var temp = {};\r\n  for(var i=0;i<cards.length;i++){\r\n    const createdAt = new Date(cards[i].createdAt);\r\n    const createdAtMonth = new Date(createdAt.getFullYear(), createdAt.getMonth(), 2);\r\n    //console.log(createdAtMonth);\r\n    if(!temp[createdAtMonth]){ temp[createdAtMonth] = 1; }\r\n    else{ temp[createdAtMonth]++; };\r\n  }\r\n  for(var key in temp){\r\n    data.push({ value: temp[key], month: key });\r\n  }\r\n  return data;\r\n}\r\n\r\nmodule.exports.cardStudent = (cards, teacher) =>{\r\n  var data = [\r\n    //{ value: 3, month: 7 },\r\n  ];\r\n  var temp = {};\r\n  for(var i=0;i<cards.length;i++){\r\n    if(!temp[cards[i].author]){ temp[cards[i].author] = 1; }\r\n    else{ temp[cards[i].author]++; };\r\n  }\r\n  for(var key in temp){\r\n    if(key != teacher){ data.push({ value: temp[key], student: key }); }\r\n  }\r\n  return data;\r\n}\r\n\r\nvar stringToDate = (date) =>{\r\n  const splited = date.split('-');\r\n  return new Date(splited[0],splited[1],splited[2]);\r\n}\r\n\r\nvar dateToString = (date) =>{\r\n  const year = date.getFullYear();\r\n  const month = date.getMonth() + 1;\r\n  const day = date.getDate();\r\n  var dateString = year + '-' + month + '-' + day;\r\n  return dateString;\r\n}\r\n"]}