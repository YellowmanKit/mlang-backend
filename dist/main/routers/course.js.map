{"version":3,"sources":["../../../src/main/routers/course.js"],"names":["CourseRouter","app","init","mongoose","connect","db","connection","post","req","res","next","data","body","Course","joinCourse","_result","_joinedCourse","_updatedProfile","json","result","joinedCourse","updatedProfile","addCourse","_newCourse","newCourse","Router"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;;;;;;;;;;;IAEMA,Y;;;AAEJ,wBAAYC,GAAZ,EAAgB;AAAA;;AAAA,4HACRA,GADQ;;AAEd,UAAKA,GAAL,GAAWA,GAAX;AACA,UAAKC,IAAL;AAHc;AAIf;;;;2BAEK;AAAA;;AACJ,UAAMD,MAAM,KAAKA,GAAjB;AACAE,yBAASC,OAAT,CAAiB,2BAAjB;AACA,UAAIC,KAAKF,mBAASG,UAAlB;;AAEAL,UAAIM,IAAJ,CAAS,cAAT;AAAA,2EAAyB,iBAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBC,sBADiB,GACVH,IAAII,IAAJ,CAASD,IADC;AAEvB;;AAEAE,mCAAOC,UAAP,CAAkBH,IAAlB,EAAwB,UAACI,OAAD,EAAUC,aAAV,EAAyBC,eAAzB,EAA2C;AACjE,2BAAOR,IAAIS,IAAJ,CAAS;AACdC,8BAAQJ,OADM;AAEdK,oCAAcJ,aAFA;AAGdK,sCAAgBJ;AAHF,qBAAT,CAAP;AAKD,mBAND;;AAJuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAzB;;AAAA;AAAA;AAAA;AAAA;;AAaAhB,UAAIM,IAAJ,CAAS,aAAT;AAAA,4EAAwB,kBAAMC,GAAN,EAAWC,GAAX,EAAgBC,IAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBC,sBADgB,GACTH,IAAII,IAAJ,CAASD,IADA;AAEtB;;AAEAE,mCAAOS,SAAP,CAAiBX,IAAjB,EAAuB,UAACI,OAAD,EAAUQ,UAAV,EAAuB;AAC5C,2BAAOd,IAAIS,IAAJ,CAAS;AACdC,8BAAQJ,OADM;AAEdS,iCAAWD;AAFG,qBAAT,CAAP;AAID,mBALD;;AAJsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAxB;;AAAA;AAAA;AAAA;AAAA;AAYD;;;;EAtCwBE,gB;;kBA0CZzB,Y","file":"course.js","sourcesContent":["import Router from './Router';\r\nimport path from 'path';\r\nimport mongoose from 'mongoose';\r\nimport to from '../../to';\r\n\r\nimport User from '../../models/User.js';\r\nimport Course from '../../models/Course.js';\r\n\r\nclass CourseRouter extends Router {\r\n\r\n  constructor(app){\r\n    super(app);\r\n    this.app = app;\r\n    this.init();\r\n  }\r\n\r\n  init(){\r\n    const app = this.app;\r\n    mongoose.connect('mongodb://localhost/mlang');\r\n    var db = mongoose.connection;\r\n\r\n    app.post('/course/join', async(req, res, next)=>{\r\n      const data = req.body.data;\r\n      //console.log(data)\r\n\r\n      Course.joinCourse(data, (_result, _joinedCourse, _updatedProfile)=>{\r\n        return res.json({\r\n          result: _result,\r\n          joinedCourse: _joinedCourse,\r\n          updatedProfile: _updatedProfile\r\n        })\r\n      })\r\n    });\r\n\r\n    app.post('/course/add', async(req, res, next)=>{\r\n      const data = req.body.data;\r\n      //console.log(data)\r\n\r\n      Course.addCourse(data, (_result, _newCourse)=>{\r\n        return res.json({\r\n          result: _result,\r\n          newCourse: _newCourse\r\n        })\r\n      })\r\n    });\r\n\r\n  }\r\n\r\n}\r\n\r\nexport default CourseRouter;\r\n"]}